{% extends 'master.html' %}

{% block title %}Announcement List{% endblock title %}

{% block content %}
<div class="container mt-20 p-6 h-auto">
    <h1 class="font-extrabold text-6xl mb-10">Annoucements</h1>
    <div class="flex sticky top-20 left-6">
        <a href="{% url "create_announcement" %}">
            <button  class="btn btn-accent w-28">Create</button>
        </a>
    </div>

    <div class="flex items-center justify-center">
        <ul class="">
            {% for announcement in announcements %}
                <li class="border-orange-400 rounded-lg">
                    <a class="font-bold" href="{% url 'announcement_detail' pk=announcement.pk %}">
                        {% comment %} <div class="p-2 mx-4 bg-orange-400 bg-opacity-40 rounded-lg m-2">
                            {{ announcement.title }} <br>
                            {{ announcement.content }} <br>
                        </div>
                        <div class="p-2 mx-4 bg-orange-400 shadow-2xl bg-opacity-40 rounded-lg">
                            <img src="{{announcement.image.url}}" class="w-40 h-40" alt="">
                        </div> {% endcomment %}

                        <div class="flex p-2 m-4 py-6 px-10 bg-white rounded-lg">
                            <div>
                                {% if announcement.image %}
                                    <img src="{{ announcement.image.url }}" class="w-40 h-40 object-cover rounded-md" alt="Announcement Image">
                                {% else %}
                                    <p>No image available</p>
                                {% endif %}          
                            </div>
                                <div class="p-2">
                                    <div class="pb-4 hover:underline text-xl">
                                        {{ announcement.title }} <br>
                                    </div>
                                    <div>
                                        {{ announcement.content }} <br>
                                    </div>
                                </div>
                        </div>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>

{% endblock content %}